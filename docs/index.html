<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Small portable ESP32-based motion detector - Sends a telegram push notification if your pet or a burglar is at the back door and wants in.</title>
</head>
<body>
<div id="readme" class="Box md js-code-block-container Box--condensed">
	<div class="Box-body p-5">

<article class="markdown-body entry-content container-lg" itemprop="text">
  <div style="text-align: right">
    <a href="https://github.com/seizu" title="gitHub.com">follow me on
        <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle color-fg-default">
            <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
        </svg>
    </a><br><br>
    </div>  
  <h2 tabindex="-1" dir="auto"><a id="user-content-pet-alert-" class="anchor" aria-hidden="true" href="#pet-alert-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>
  Pet Alert 
  <a href="https://seizu.github.io/PetAlert/index.html"><img src="https://www.wartris.com/gfx/eng.PNG" alt="English" /></a><a href="https://seizu.github.io/PetAlert/index_de.html"><img src="https://www.wartris.com/gfx/deu.PNG" alt="Deutsch" /></a>
</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-esp32-based-motion-detector---informs-you-when-your-pet-is-waiting-at-the-door-to-be-let-in" class="anchor" aria-hidden="true" href="#esp32-based-motion-detector---informs-you-when-your-pet-is-waiting-at-the-door-to-be-let-in"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Small portable ESP32-based motion detector - Sends a telegram push notification if your pet or a burglar is at the back door and wants in.</h3>
<p dir="auto">The goal was to create a small portable motion detector that runs on battery power only and does not require an external power source. When motion is detected, a push notification is to be sent to the smartphone via WLAN. For the push notification Telegram is used, which means no additional APP is needed, except Telegram of course. The challenge was to consume little power in order to extend the operating time of the motion detector in battery mode. Below you can see a prototype without sun shield and LED.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="PetAlert.png"><img src="PetAlert.png" style="max-width: 100%;"></a></p>  
<p dir="auto">Sure, there are several use cases for which a portable motion detector can be used. But as the project name suggests, we use it for our pet, more precisely for our cat. When our cat comes back from stray, she often stands unnoticed in front of the front door for hours, wanting to be let in. In the winter, she's usually pretty peeved when we finally let her in. A cat door would be a possible solution, but we opted for the PetAlert solution, which of course also works for dogs.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">How it works</h2><a id="user-content-how-it-works" class="anchor" aria-label="Permalink: How it works" href="#how-it-works"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The motion detector should be positioned near the front door, where your pet usually stays when it wants to be let in, within range of the WiFi signal. If no motion is detected, the device is in deep sleep mode, no active WLAN connection exists. When motion is detected, the device is awakened from deep sleep mode and monitors further motion for 30 seconds in active mode. If nothing is detected, the device automatically switches back to deep sleep mode. However, if 3 more movements are registered within the 30 seconds, a WLAN connection is established and a predefined URL is invoked. In our case, the Telegram API for push notifications. After that, the device switches to deep sleep mode for 5 minutes, during which time no further movements are detected. All mentioned parameters like time, number of movements as well as the URL are configurable via web interface.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="WebPrefs.png"><img src="WebPrefs.png" style="max-width: 100%;"></a></p>  
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Web interface</h2><a id="user-content-web-interface" class="anchor" aria-label="Permalink: Web interface" href="#web-interface"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There are 2 configuration modes for accessing the web interface.</p>
<p dir="auto"><strong>Mode A</strong> the device acts as a WLAN access point.<br>
<strong>Mode B</strong> the device acts as a WLAN client.</p>
<p dir="auto"><strong>Mode A</strong><br>
For the very first time, the device must be placed in <strong>mode A</strong> in order to access the web interface. To do this, set jumper J1 and press the RST/EN button on the ESP32. The flashing LED1 indicates that <strong>mode A</strong> is active. The mode remains active for 5 minutes. A SSID with the initial letters PET...... should be visible. Now you can connect to this access point with your WLAN device. The password is "petalert". To open the web interface, simply enter <a href="http://10.100.10.1" rel="nofollow">http://10.100.10.1</a> in the address bar of your browser. You should remember the SSID, which is also the hostname of the device. Helpful in <strong>mode B</strong>, where the device is assigned a dynamic IP address. In <strong>mode A</strong> you can enter your WLAN data and assign user and password for the web interface, do not forget to save. The remaining parameters should be added in <strong>mode B</strong>.</p>
<p dir="auto"><strong>Mode B</strong><br>
If all data is correct you can switch to <strong>Mode B</strong>, just remove jumper J1 and press the RST/EN button on the ESP32. The LED will light up constantly. The motion detector should now have received a dynamic IP address from your WALN router. If you do not know your IP address, use the hostname to access the web interface (e.g.: <a href="http://PET70C312" rel="nofollow">http://PET70C312</a>). Now you need to enter the previously assigned credentials to access the web interface (user and password) to set the remaining parameters.</p>
<p dir="auto"><strong>Alert URL</strong> in this input field a URL can be entered, which will be called in case of an alert. The placeholders <em>$token$</em> and <em>$text$</em> are replaced by the corresponding input fields <strong>Alert Text</strong> and <strong>Token</strong>. If you want to use Telegram as a notification service, you can keep the URL <code>https://api.telegram.org/bot$token$/sendMessage?chat_id=1234567&amp;text=$text$</code> only the chat_id has to be changed. Instructions on how to create your personal Telegram token are explained in detail here: <a href="https://core.telegram.org/bots#how-do-i-create-a-bot" rel="nofollow">https://core.telegram.org/bots#how-do-i-create-a-bot</a>. In a nutshell, you need to create a bot with your Telegram app, which will give you your token. Then you need to create a group and add the bot to the group. The only thing you need now is the chat_id - the ID of your group. I've explained the details here in section 4: <a href="https://github.com/seizu/siteping#readme">https://github.com/seizu/siteping#readme</a></p>
<p dir="auto"><strong>Alert Text</strong> is the placeholder text for <em>$text$</em>. The <em>$bat$</em> placeholder is replaced by the current voltage status of the battery.</p>
<p dir="auto"><strong>Token</strong> is the placeholder text for <em>$token$</em></p>
<p dir="auto"><strong>LED ON/OFF</strong> LED feedback for motion detection.</p>
<p dir="auto"><strong>Power OFF/ON</strong> OFF sends the device permanently into deep sleep mode. Keep in mind, to reactivate <strong>Power ON</strong>, the RST/EN button must be pressed to access the web interface.</p>
<p dir="auto">The remaining parameters are self-explanatory. It should be mentioned that the value for the <strong>Attention timer</strong> should be set as low as possible. A high value will decrease the battery runtime. For example, if you set the detection counter to 4 and the attention timer to 60 seconds, at worst the device will stay awake for 3 minutes, because each detection resets the <strong>Attention timer</strong>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="Battery.png"><img src="Battery.png" style="max-width: 100%;"></a></p>  
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Battery and voltage measurement</h2><a id="user-content-battery-and-voltage-measurement" class="anchor" aria-label="Permalink: Battery and voltage measurement" href="#battery-and-voltage-measurement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The device is powered by a LiFePo4 IFR14500 battery with 600mAh. To increase the uptime of the device, you can also use the bigger brother IFR18650 1500mA or IFR26650 with 3000mAh. Depending on which ESP32 development board you use, the device consumes too much power even in deep sleep mode due to the USB voltage regulator. There are several solutions to fix this problem. One possibility would be to simply desolder the two chips CP2103 and AMS 1117 with a heat gun after flashing the sketch. Don't worry, you can still flash the ESP32 afterwards. The ESP32 Firebeetle board would also be a good option, as this board uses a voltage regulator that consumes little power even in deep sleep mode. However, I prefer to desolder the two chips. The battery voltage is measured by a voltage divider with two 100K ohm resistors on GPIO pin 34. The measured value must therefore be multiplied by 2. With the 600mAh battery and the above settings at an average outdoor temperature of about 3° Celsius, the device will run for about 1 month. The battery runtime depends on the settings and the number of notifications sent.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Schematic</h2><a id="user-content-schematic" class="anchor" aria-label="Permalink: Schematic" href="#schematic"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="Schematic.svg"><img src="Schematic.svg" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Breadboard</h2><a id="user-content-breadboard" class="anchor" aria-label="Permalink: Breadboard" href="#breadboard"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="Breadboard.svg"><img src="Breadboard.svg" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Parts</h2><a id="user-content-parts" class="anchor" aria-label="Permalink: Parts" href="#parts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>LED1: LED Red 3mm 2.0~2.4V 20mA</li>
<li>R1,R5: 10KΩ Resistor</li>
<li>R2: 47Ω Resistor</li>
<li>R3,R4: 100KΩ Resistor</li>
<li>C1: 10uF/35V Ceramic Capacitor</li>
<li>U1: ESP32 WROOM32 DevKit (V4)</li>
<li>RIP1: AM312 RIP Sensor</li>
<li>BAT1: 3.2V LiFePo4 IFR14500 600mAh or IFR18650 1500mAh or IFR26650 3000mAh</li>
<li>J1: Jumper Pins</li>
<li>Battery Holder</li>
<li>2x Half Breadboards</li>
<li>Jumper, Jumper Cables</li>
<li>PCB Prototyp Board 70x50mm</li>
<li>Plastic case LxWxH 70x50x25mm (Suitable for the small battery 14500)</li>
<li>Silver wire</li>
<li>A short piece of PVC pipe ⌀xL 16x20mm to prevent direct sunlight on the AM312.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Tools</h2><a id="user-content-tools" class="anchor" aria-label="Permalink: Tools" href="#tools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Soldering iron 15W and solder</li>
<li>Heat gun</li>
<li>Cutting nife</li>
<li>Side cutter</li>
<li>Tweezers</li>
<li>Forstner drill or wood drill 12mm (Hole for AM312)</li>
<li>Plastic glue or hot glue gun to stick the sun shield.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There are two ways to flash your ESP32 with the Pet Alert firmware. The first option is to compile the project and flash it with the development environment, which requires Microsoft Visual Studio Code and the PlatformformIO extension. Option two, you flash the precompiled firmware directly to your ESP32 via script. <strong>Both options require that the USB driver for your particular ESP32 model is installed.</strong></p>
<p dir="auto">To compile the project perform the following steps:</p>
<ul dir="auto">
<li>Download and install Microsoft VS Code <a href="https://code.visualstudio.com/" rel="nofollow">https://code.visualstudio.com/</a></li>
<li>Download and install Git <a href="https://git-scm.com/downloads" rel="nofollow">https://git-scm.com/downloads</a></li>
<li>Install PlatformIO Extenstion for VS Code
<ul dir="auto">
<li>Open VS Code, press Ctrl+Shift+X, in the textfield search for PlatformIO and install the extension. C/C++ IntelliSense (Microsoft) will be installed automatically.</li>
</ul>
</li>
<li>Clone the Github Pet Alert repository.
<ul dir="auto">
<li>Press Ctrl+Shift+G and click on "Clone Repository", paste <a href="https://github.com/seizu/PetAlert.git">https://github.com/seizu/PetAlert.git</a> into the textfield above and press RETURN. If "Manage Workspace Trust" appears, click on "Trust" to trust the workspace.</li>
<li>Choose a target directory and click on "Select as Repository Destination" to download the project files. Click "Open" and click on "Yes, I trust the authors"</li>
<li>Another option is to clone the project from the command prompt and then open the PetAlert folder with VC code.</li>
</ul>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>  git clone https://github.com/seizu/PetAlert.git
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="  git clone https://github.com/seizu/PetAlert.git" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="VSGIT.png"><img src="VSGIT.png" alt="drawing" width="800" style="max-width: 100%;"></a></p>
<ul dir="auto">
<li>If everything has been installed correctly, a tiny house icon should be visible on the left side of the lower status bar. Right next to it, there is a small check mark (PlatformIO: Build), click on it to build the Pet Alert firmware.</li>
<li>To flash the firmware connect your ESP32 to your PC using a USB cable and click on the arrow (PlatformIO: Upload) right next to the check mark.</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="VSPIO.png"><img src="VSPIO.png" alt="drawing" width="800" style="max-width: 100%;"></a></p>
<p dir="auto">Video<br>
<a href="https://youtu.be/HXESxG6hbrs" rel="nofollow"><img src="YT01.PNG" alt="Video" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Flashing ESP32 with ESP32</h2><a id="user-content-flashing-esp32-with-esp32" class="anchor" aria-label="Permalink: Flashing ESP32 with ESP32" href="#flashing-esp32-with-esp32"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Here is an example of how to flash an ESP32 with unsoldered USB UART and voltage regulator using an ESP32.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="FlashESPwithESP.svg"><img src="FlashESPwithESP.svg" style="max-width: 100%;"></a></p>
<ol dir="auto">
<li>Connect the two ESP32s as shown in the sketch above.</li>
<li>To flash your firmware on U2 (with no CP2103 and AMS 1117), connect U1 to your PC via USB and start the flashing process.</li>
<li>Press Boot+Reset on U2</li>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Flashing ESP32-CAM with ESP32</h2><a id="user-content-flashing-esp32-with-esp32" class="anchor" aria-label="Permalink: Flashing ESP32 with ESP32" href="#flashing-esp32-with-esp32"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Here is an example of how to flash an ESP32-Cam using an ESP32.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="FlashESP32CAMwithESP32.png"><img src="FlashESP32CAMwithESP32.png" style="max-width: 100%;"></a></p>
<ol dir="auto">
<li>Connect the two ESP32s as shown in the sketch above.</li>
<li>To flash your firmware on the EPS32-CAM, connect U1 to your PC via USB and start the flashing process.</li>
<li>Press reset on the ESP32-CAM</li>

</ol>
</article>

</div>
</div>
<style>
    @media all{.octicon{display:inline-block;vertical-align:text-top;fill:currentColor}article{display:block}a{background-color:initial}a:active,a:hover{outline-width:0}h1{font-size:2em;margin:.67em 0}svg:not(:root){overflow:hidden}code,pre{font-family:monospace,monospace;font-size:1em}::-webkit-input-placeholder{color:inherit;opacity:.54}*{box-sizing:border-box}a{color:#0366d6;text-decoration:none}a:hover{text-decoration:underline}h1,h2{margin-top:0;margin-bottom:0}h1{font-size:32px}h1,h2{font-weight:600}h2{font-size:24px}p{margin-top:0;margin-bottom:10px}ol{padding-left:0;margin-top:0;margin-bottom:0}code,pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}pre{margin-top:0;margin-bottom:0}.octicon{vertical-align:text-bottom}.Box--condensed .Box-body{padding:8px 16px}.Box-body{padding:16px;border-bottom:1px solid #e1e4e8}.Box-body:last-of-type{margin-bottom:-1px;border-bottom-right-radius:2px;border-bottom-left-radius:2px}:-ms-input-placeholder{color:#6a737d}::-ms-input-placeholder{color:#6a737d}::placeholder{color:#6a737d}.p-5{padding:32px!important;padding:32px!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body ol,.markdown-body p,.markdown-body pre{margin-top:0;margin-bottom:16px}.markdown-body h1,.markdown-body h2{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body ol{padding-left:2em}.markdown-body li{word-wrap:break-all}.markdown-body li+li{margin-top:.25em}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}}@media print{p{page-break-inside:avoid}.markdown-body h2{page-break-after:avoid}.markdown-body pre>code{white-space:pre-wrap}}@media (hover:none){.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link{visibility:visible!important}}body > #readme{max-width:1024px;border:1px solid #e1e4e8;border-radius:2px;margin-left:auto;margin-right:auto}
</style>
</body>
</html>
